# Supabase (server + browser)
# Required: backend + rss fetcher
SUPABASE_URL=
# Must be service-role secret key: sb_secret_*
SUPABASE_SERVICE_ROLE_KEY=
# Optional for backend auth validation (fallback to NEXT_PUBLIC_SUPABASE_ANON_KEY)
# Must be anon/public or publishable key: sb_publishable_*
SUPABASE_ANON_KEY=
# Required: frontend
NEXT_PUBLIC_SUPABASE_URL=
# Browser-safe key only, must NOT be sb_secret_*
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Backend server
# Optional, default 4000
PORT=4000
# Comma-separated allowed origins, e.g. http://localhost:3000,http://127.0.0.1:3000
# Required for production (no wildcard)
ALLOWED_ORIGIN=http://localhost:3000
# Recommended: set this to protect /cron/refresh
CRON_SECRET=
# Optional: pluggable LLM adapter module path (dynamic import)
# Example: ./server/dist/services/adapters/openai-adapter.js
RSS_LLM_ADAPTER_PATH=
# OpenAI adapter demo (optional)
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4.1-mini
OPENAI_TIMEOUT_MS=10000
# Anthropic adapter demo (optional)
ANTHROPIC_API_KEY=
ANTHROPIC_BASE_URL=https://api.anthropic.com/v1
ANTHROPIC_MODEL=claude-3-5-haiku-latest
ANTHROPIC_API_VERSION=2023-06-01
ANTHROPIC_TIMEOUT_MS=10000
# Gemini adapter demo (optional)
GEMINI_API_KEY=
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
GEMINI_MODEL=gemini-1.5-flash
GEMINI_TIMEOUT_MS=10000
# Optional: conversion timeout budget in milliseconds
INTAKE_MAX_CONVERSION_MS=20000
# Optional: single page fetch/render timeout in milliseconds
INTAKE_FETCH_TIMEOUT_MS=12000
# Optional: when extracted body is shorter than this, try linked-page enrichment
CONTENT_ENRICH_MIN_CHARS=140
# Optional: max linked pages to enrich per conversion/refresh run
CONTENT_ENRICH_MAX_LINKS=3
# Optional: timeout for each linked-page enrichment request (milliseconds)
CONTENT_ENRICH_TIMEOUT_MS=8000
# Optional: RSS item body minimum chars before trying original-link enrichment
RSS_CONTENT_MIN_CHARS=120
# Optional: max RSS items to enrich per refresh run
RSS_ENRICH_MAX_ITEMS=3

# Frontend
# Optional but recommended for SEO canonical/OG absolute URL in production
NEXT_PUBLIC_SITE_URL=
# Required: frontend -> backend API base URL
NEXT_PUBLIC_API_BASE_URL=http://localhost:4000

# TLS / SSL
# If behind a corporate proxy that does HTTPS inspection (self-signed cert in chain),
# set this to 0 to skip Node.js TLS certificate verification.
# Do NOT set this in production.
# NODE_TLS_REJECT_UNAUTHORIZED=0
